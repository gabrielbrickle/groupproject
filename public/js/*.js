"use strict";var imageurl=["https://cdn.meme.am/instances/500x/57505357.jpg","http://i.imgur.com/PpPSxK5.png","http://m.memegen.com/ajrpaw.jpg","http://s2.quickmeme.com/img/85/850a61abc00b53f7c804cc85711cf7d1305da78e5a35aae0b230a660db160c92.jpg","http://66.media.tumblr.com/c5ce0bc865375c96ae6c77c38c109f8d/tumblr_ndwldyT6Uy1tbhzhno1_1280.png","http://s2.quickmeme.com/img/b7/b7206150806bb17c9c0dce0f0d978cd60f0a8a9ac4e066c9f5c34246d084142c.jpg","http://s2.quickmeme.com/img/8d/8dd68ee00c6ac8abcc1407e244d4692f4b5d114afa357bca6f3abdd7d8c2a627.jpg","http://s2.quickmeme.com/img/bf/bfc8800a2540c5274ebce706b295ed3102600ff4f50a934426edeb165c5fb49d.jpg","https://cdn.meme.am/instances/61075097.jpg","https://s-media-cache-ak0.pinimg.com/736x/dc/e3/ff/dce3fff641752d4bf50eb4b4d9cbfd34.jpg","http://memeguy.com/photos/images/what-im-always-thinking-on-every-friday-and-every-other-day-140271.png","http://ct.fra.bz/ol/fz/sw/i45/5/1/24/fbz_abbe2c83826642ed8d791e298bdb72f1.jpg","http://elitebusinessevolution.com/wp-content/uploads/2013/03/web-coding-meme-digital-marketing.jpg","https://slaymyboredom.files.wordpress.com/2012/03/coding-problems.jpg","https://s-media-cache-ak0.pinimg.com/736x/2b/87/17/2b8717e385f04061c8b6b78cd4c663c7.jpg","https://wutcode.files.wordpress.com/2013/12/31804326.jpg","https://cdn.meme.am/instances/52811598.jpg","https://s-media-cache-ak0.pinimg.com/736x/ff/89/1c/ff891c36d10cededa0411a9100f3befe.jpg","https://wyncode.co/wp-content/uploads/2014/08/31.jpg"];$(document).ready(function(){doYouLikeMeme.init()});var doYouLikeMeme={url:"http://tiny-tiny.herokuapp.com/collections/doyoulikememe",urlmemes:"http://tiny-tiny.herokuapp.com/collections/doyoulikememevotes",comments:[],thumbclicks:[],meme:[],init:function(){doYouLikeMeme.styling(),doYouLikeMeme.events()},styling:function(){doYouLikeMeme.getPost()},events:function(){$("form").submit(function(){if(event.preventDefault(),""!==$("input").val()){var e=$(this).find(".messageval").val(),t=$(this).find(".usernameval").val(),o={text:e,author:t};doYouLikeMeme.createPost(o),$(".comments").append("<li>"+t+e+'<a href="">     (delete)</a></li>')}return $("input").val(""),!1}),$(".comments").on("click","a",function(e){event.preventDefault();var t=$(this).parent().data("id");console.log("ID",t),window.glob=$(this),$(this).parent().remove(),doYouLikeMeme.deletePost(t)});var e;$("ul").on("dblclick","li",function(){e=$(this).text(),$(this).text(""),$("<input type='text' data-id='"+$(this).data("id")+"'>").appendTo(this).focus()}),$("ul").on("focusout","li > input",function(){var e=$(this),t=e.val();e.text(e.val()),$(this).parent().text(e.val()).append('<a href="">     (delete)</a>'),e.remove(),doYouLikeMeme.editPost({text:t,id:e.data("id")})}),$(".top").on("click",function(){event.preventDefault(),window.location.reload()})},createPost:function(e){$.ajax({url:doYouLikeMeme.url,method:"POST",data:e,success:function(e){console.log("works",e),doYouLikeMeme.comments.push(e),doYouLikeMeme.getPost()},error:function(e){console.error("OH CRAP",e)}})},createClick:function(e){$.ajax({url:doYouLikeMeme.urlmemes,method:"POST",data:e,success:function(e){console.log("works",e),doYouLikeMeme.thumbclicks.meme.push(e),doYouLikeMeme.getPost()},error:function(e){console.error("OH CRAP",e)}})},getPost:function(){$.ajax({url:doYouLikeMeme.url,method:"GET",success:function(e){console.log("WE GOT SOMETHING",e),$(".totalcomments").find("h5").text("Total Comments: "+e.length),$(".comments").html(""),console.log("data",e),e.forEach(function(e,t){var o='<li data-id="'+e._id+'"> '+e.author+": "+e.text+'<a href="">      (delete)</a></li>';$(".comments").append(o),doYouLikeMeme.comments.push(e)})},error:function(e){console.error("ugh",e)}})},getClick:function(){$.ajax({url:doYouLikeMeme.urlmemes,method:"GET",success:function(e){console.log("WE GOT SOMETHING",e),doYouLikeMeme.thumbclicks.meme.push("")},error:function(e){console.error("ugh",e)}})},deletePost:function(e){var t=doYouLikeMeme.url+"/"+e;$.ajax({url:t,method:"DELETE",success:function(e){console.log("WE DELETED SOMETHING",e),doYouLikeMeme.getPost()},error:function(e){console.error("ugh",e)}})},editPost:function(e){console.log("THING TO EDIT",e),$.ajax({url:doYouLikeMeme.url+"/"+e.id,method:"PUT",data:e,success:function(e){console.log("edited!!!!!",e),doYouLikeMeme.getPost()},error:function(e){console.error("OH CRAP",e)}})}};$(".thumbsup").on("click",function(e){function t(e){var t=Math.random(),o=e.length,n=Math.floor(t*o);return e[n]}e.preventDefault(),document.getElementById("memeimage").src=t(imageurl);var o=e.currentTarget;o.clicks=(o.clicks||0)+1,console.log(o.clicks);var n=t(imageurl);console.log("This is the image url ",n);var c={clicks:Number(1),meme:n};doYouLikeMeme.createClick(c)}),$(".thumbsdown").on("click",function(e){function t(e){var t=Math.random(),o=e.length,n=Math.floor(t*o);return e[n]}e.preventDefault(),document.getElementById("memeimage").src=t(imageurl);var o=e.currentTarget,n=(o.clicks,t(imageurl));console.log("This is the image url ",n);var c={clicks:Number(-1),meme:n};doYouLikeMeme.createClick(c)}),$(".best").on("click",function(){function e(e){var t=Math.random(),o=e.length,n=Math.floor(t*o);return e[n]}event.preventDefault(),console.log("you clicked best"),$(".fivepics").removeClass("hidden"),$(".images").addClass("hidden"),$(".thumbs").addClass("hidden"),$(".commentforms").addClass("hidden"),$("h5").addClass("hidden"),$("h2").text("BEST MEMES"),document.getElementById("image1").src=e(imageurl),document.getElementById("image2").src=e(imageurl),document.getElementById("image3").src=e(imageurl),document.getElementById("image4").src=e(imageurl),document.getElementById("image5").src=e(imageurl)}),$(".worst").on("click",function(){function e(e){var t=Math.random(),o=e.length,n=Math.floor(t*o);return e[n]}event.preventDefault(),console.log("you clicked worst"),$(".fivepics").removeClass("hidden"),$(".images").addClass("hidden"),$(".thumbs").addClass("hidden"),$(".commentforms").addClass("hidden"),$("h5").addClass("hidden"),$("h2").text("WORST MEMES"),document.getElementById("image1").src=e(imageurl),document.getElementById("image2").src=e(imageurl),document.getElementById("image3").src=e(imageurl),document.getElementById("image4").src=e(imageurl),document.getElementById("image5").src=e(imageurl)}),$(".login").on("click",function(){event.preventDefault(),$(".thumbs").addClass("hidden"),$(".commentforms").addClass("hidden"),$("h5").addClass("hidden"),$("h2").text("COMING SOON"),document.getElementById("memeimage").src="images/awkward.png",document.getElementById("memeimage").style.marginLeft="75px"}),$(".contact").on("click",function(){event.preventDefault(),$(".thumbs").addClass("hidden"),$(".commentforms").addClass("hidden"),$("h5").addClass("hidden"),$("h2").text("COMING SOON"),document.getElementById("memeimage").src="images/awkward.png",document.getElementById("memeimage").style.marginLeft="75px"}),$(".create").on("click",function(){event.preventDefault(),$(".thumbs").addClass("hidden"),$(".commentforms").addClass("hidden"),$("h5").addClass("hidden"),$("h2").text("COMING SOON"),document.getElementById("memeimage").src="images/awkward.png",document.getElementById("memeimage").style.marginLeft="75px"});